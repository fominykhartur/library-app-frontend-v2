import{g as _}from"./api-c4491bc8.js";import{_ as p}from"./_plugin-vue_export-helper-c27b6911.js";import{r as h,o as u,c as i,w as l,a,z as g,A as k,b as f,d as b,x as V,s,B as n,q as B,i as y}from"./index-d505ce47.js";const x={data(){return{search:"",itemsPerPage:10,headers:[{key:"book_id",title:"ID",order:"asc"},{key:"book_name",title:"Название"},{key:"author_name",title:"Автор"},{key:"category_name",title:"Категория"}],booksdata:[],loading:!0,totalItems:0}},methods:{getBookList:function(){this.loading=!0,_("http://localhost:9000/library-api/public/allBooks").then(t=>{console.log(t),this.booksdata=t.data,this.totalItems=t.data.length,this.loading=!1})}},beforeMount(){this.getBookList()},mounted(){console.log(this.booksdata)}};function C(t,r,d,v,e,c){const m=h("v-data-table");return u(),i(B,null,{default:l(()=>[a(g,null,{default:l(()=>[a(k,null,{default:l(()=>[f(" Список книг "),a(b),a(V,{modelValue:e.search,"onUpdate:modelValue":r[0]||(r[0]=o=>e.search=o),"append-icon":"mdi-magnify",label:"Поиск","single-line":"","hide-details":""},null,8,["modelValue"])]),_:1}),a(m,{headers:e.headers,items:e.booksdata,search:e.search,loading:e.loading,"onUpdate:options":c.getBookList},{item:l(({item:o})=>[s("tr",null,[s("td",null,n(o.columns.book_id),1),s("td",null,n(o.columns.book_name),1),s("td",null,n(o.columns.author_name),1),s("td",null,n(o.columns.category_name),1)])]),_:1},8,["headers","items","search","loading","onUpdate:options"])]),_:1})]),_:1})}const A=p(x,[["render",C]]),L=y({__name:"Books",setup(t){return(r,d)=>(u(),i(A))}});export{L as default};
