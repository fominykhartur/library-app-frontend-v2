import{_ as p}from"./_plugin-vue_export-helper-c27b6911.js";import{o,c as a,w as t,a as e,V as h,b as u,d as i,e as d,f as r,g,h as w,i as m,j as k,r as V,k as j}from"./index-ec981219.js";const v={data(){return{jwt:localStorage.getItem("jwt"),id:localStorage.getItem("id"),isAuth:!!localStorage.getItem("jwt")}},methods:{logout:function(){localStorage.removeItem("jwt"),localStorage.removeItem("name"),localStorage.removeItem("id"),this.jwt="",this.id="",this.isAuth=!1,console.log("Вышел")}},mounted(){window.addEventListener("login",s=>{this.jwt=localStorage.getItem("jwt"),this.id=localStorage.getItem("id"),this.isAuth=!0})},watch:{}};function A(s,l,c,_,n,f){return o(),a(w,{dark:"",prominent:""},{default:t(()=>[e(h,null,{default:t(()=>[u("LibraryApp")]),_:1}),e(i),e(d,{justify:"start"},{default:t(()=>[e(r,{to:"/users"},{default:t(()=>[u("Пользователи")]),_:1}),e(r,{to:"/books"},{default:t(()=>[u("Книги")]),_:1})]),_:1}),e(i),n.isAuth?(o(),a(d,{key:0,justify:"end"},{default:t(()=>[e(r,{onClick:l[0]||(l[0]=I=>s.$router.push(`/users/${n.id}`))},{default:t(()=>[u("Мои книги")]),_:1})]),_:1})):g("",!0),e(i),n.isAuth?(o(),a(r,{key:2,onClick:f.logout,to:"/auth",dark:""},{default:t(()=>[u(" Выйти ")]),_:1},8,["onClick"])):(o(),a(r,{key:1,to:"/auth",dark:""},{default:t(()=>[u(" Войти ")]),_:1}))]),_:1})}const C=p(v,[["render",A]]),S=m({__name:"View",setup(s){return(l,c)=>{const _=V("router-view");return o(),a(k,null,{default:t(()=>[e(_)]),_:1})}}}),y=m({__name:"Default",setup(s){return(l,c)=>(o(),a(j,null,{default:t(()=>[e(C),e(S)]),_:1}))}});export{y as default};
