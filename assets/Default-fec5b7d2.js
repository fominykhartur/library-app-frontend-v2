import{_ as g}from"./_plugin-vue_export-helper-c27b6911.js";import{o as r,c as s,w as e,a as t,V as h,b as u,d as i,e as _,f as a,g as w,h as k,i as f,j as V,r as C,k as j}from"./index-23405655.js";const v={data(){return{jwt:localStorage.getItem("jwt"),id:localStorage.getItem("id"),isAuth:!!localStorage.getItem("jwt")}},methods:{logout:function(){localStorage.removeItem("jwt"),localStorage.removeItem("name"),localStorage.removeItem("id"),this.jwt="",this.id="",this.isAuth=!1,console.log("Вышел")}},mounted(){window.addEventListener("login",l=>{this.jwt=localStorage.getItem("jwt"),this.id=localStorage.getItem("id"),this.isAuth=!0})},watch:{}};function A(l,o,d,c,n,m){return r(),s(k,{dark:"",prominent:""},{default:e(()=>[t(h,null,{default:e(()=>[u("LibraryApp")]),_:1}),t(i),t(_,{justify:"start"},{default:e(()=>[t(a,{to:"/users"},{default:e(()=>[u("Пользователи")]),_:1}),t(a,{to:"/books"},{default:e(()=>[u("Книги")]),_:1})]),_:1}),t(i),n.isAuth?(r(),s(_,{key:0,justify:"end"},{default:e(()=>[t(a,{onClick:o[0]||(o[0]=p=>l.$router.push(`/users/${n.id}`))},{default:e(()=>[u("Мои книги")]),_:1}),t(a,{onClick:o[1]||(o[1]=p=>l.$router.push("/profile"))},{default:e(()=>[u("Профиль")]),_:1})]),_:1})):w("",!0),t(i),n.isAuth?(r(),s(a,{key:2,onClick:m.logout,to:"/auth",dark:""},{default:e(()=>[u(" Выйти ")]),_:1},8,["onClick"])):(r(),s(a,{key:1,to:"/auth",dark:""},{default:e(()=>[u(" Войти ")]),_:1}))]),_:1})}const S=g(v,[["render",A]]),B=f({__name:"View",setup(l){return(o,d)=>{const c=C("router-view");return r(),s(V,null,{default:e(()=>[t(c)]),_:1})}}}),y=f({__name:"Default",setup(l){return(o,d)=>(r(),s(j,null,{default:e(()=>[t(S),t(B)]),_:1}))}});export{y as default};
